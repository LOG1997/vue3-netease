import{e as B,d as P,f as l,g as a,m as e,u as _,t as h,z as x,r as w,F as f,k as $,A as T,p as A,i as k,B as D,C as R,D as F,E as v,G as N}from"./index.d735a7d5.js";const j={class:"hot-playlist1 flex items-center h-full"},z={class:"hot-playlist-img w-30 h-30 ml-5"},S=["src"],O={class:"hot-play-info w-100 ml-10 text-cool-gray-100"},V=e("p",{class:"border-2 w-30 rounded-xl"},"\u7CBE\u54C1\u6B4C\u5355",-1),q={class:"w-100 text-left"},H=B({props:{topPlayList1:Object},setup(p){const o=p;let n=P(()=>o.topPlayList1);return(g,s)=>(l(),a("div",j,[e("div",z,[e("img",{src:_(n).coverImgUrl,alt:""},null,8,S)]),e("div",O,[V,e("p",q,h(_(n).name),1)])]))}});let L=null;function J(p,o){return function(){clearTimeout(L),L=setTimeout(p,o)}}const U={class:"playlist-head w-auto h-10 flex justify-between leading-10"},G={class:"hot-list-cat flex gap-3"},I=["onClick"],M={key:0,class:"all-playlist-cat w-200 h-100 absolute bg-blue-200 z-12 leading-10 text-left pl-10 divide-y"},Q={class:"divide-y"},K={class:"grid grid-cols-6"},W=["onClick"],X=B({setup(p){const o=x("hottags"),n=x("transferCatTags"),g=x("getAlltags"),s=x("alltags");let u=w(!1);function i(){u.value=!u.value,g(),console.log("alltags:",s)}function y(t){console.log("\u70B9\u51FB\u83B7\u53D6\u65B0\u5206\u7C7B\u6B4C\u5355:",t),u.value=!1,J(()=>{n(t)},500)()}let b=P(()=>{let t=s.value.categories;for(let r=0;r<5;r++)t[r]=[];for(let r=0;r<s.value.sub.length;r++)t[s.value.sub[r].category].push(s.value.sub[r].name);t=JSON.stringify(t);let d=new RegExp('"0":',"i"),c=new RegExp('"1":',"i"),m=new RegExp('"2":',"i"),C=new RegExp('"3":',"i"),E=new RegExp('"4":',"i");return t=t.replace(d,'"\u8BED\u79CD":'),t=t.replace(c,'"\u98CE\u683C":'),t=t.replace(m,'"\u573A\u666F":'),t=t.replace(C,'"\u60C5\u611F":'),t=t.replace(E,'"\u4E3B\u9898":'),t=JSON.parse(t),console.log("categories:",t),t});return(t,d)=>(l(),a(f,null,[e("div",U,[e("div",{class:"all-catlist"},[e("p",{class:"text-gray-500 border-1 leading-8 mt-1 ml-2 border-white",onClick:i},"\u5168\u90E8\u6B4C\u5355")]),e("div",G,[(l(!0),a(f,null,$(_(o),c=>(l(),a("span",{key:c.id,onClick:m=>y(c.name)},h(c.name),9,I))),128))])]),_(u)?(l(),a("div",M,[e("span",{class:"divide-y",onClick:d[0]||(d[0]=c=>y())},"\u5168\u90E8\u6B4C\u5355"),e("ul",Q,[(l(!0),a(f,null,$(_(b),(c,m)=>(l(),a("li",{key:m},[e("span",null,h(m),1),e("ul",K,[(l(!0),a(f,null,$(c,C=>(l(),a("li",{key:C.index,onClick:E=>y(C)},[e("span",null,h(C),1)],8,W))),128))])]))),128))])])):T("",!0)],64))}}),Y={class:"playlist-container"},Z={class:"flex gap-20 w-full flex-wrap justify-between"},tt=["onClick"],et={class:"personalized-item w-60 h-60 rounded-xl m-auto relative"},st={class:"playlist-info w-20 h-5 absolute text-right text-light-100 text-sm pr-2 ml-40 bg-gray-400/50"},lt={class:"playlist-info w-20 text-sm h-5 absolute text-light-100 mt-55 bg-gray-400/50 text-left truncate"},at={class:"playlist-img w-60 h-60"},ot=["src"],nt={class:"personalized-item-info"},it=B({setup(p){const o=x("playlist"),n=A();function g(s){console.log("\u8DF3\u8F6C\u5230\u6B4C\u5355\u8BE6\u60C5",s),n.push({path:"/home/musiclist",query:{playlistid:s}})}return(s,u)=>(l(),a("div",Y,[e("ul",Z,[(l(!0),a(f,null,$(_(o),i=>(l(),a("li",{key:i.id,class:"w-60 m-0",onClick:y=>g(i.id)},[e("div",et,[e("div",st,[e("p",null,"\u25C0\uFE0F"+h(i.playCount),1)]),e("div",lt,[e("p",null,"\u{1F43C}"+h(i.creator.nickname),1)]),e("div",at,[e("img",{src:i.coverImgUrl,alt:"",class:"rounded-xl"},null,8,ot)]),e("div",nt,[e("p",null,h(i.name),1)])])],8,tt))),128))])]))}}),ut=B({setup(p){return(o,n)=>(l(),a(f,null,[k(X),k(it)],64))}}),ct={class:"hot-playlist-one w-9/10 h-40 m-auto bg-dark-50"},pt=B({setup(p){const o=A();let n=w([]),g=w([]),s=w([]),u=w([]);D({limit:1}).then(t=>{n.value=t.playlists[0]}),R().then(t=>{g.value=t.tags});const i=()=>{N().then(t=>{u.value=t})};F({limit:40}).then(t=>{s.value=t.playlists});function y(t){console.log("\u83B7\u5F97\u5B59\u7EC4\u4EF6\u4F20\u4E0A\u6765\u7684\u6B4C\u5355\u5206\u7C7B:",t),F({cat:t,limit:40}).then(d=>{s.value=d.playlists})}function b(){o.push("hotquility")}return v("hottags",g),v("transferCatTags",y),v("playlist",s),v("getAlltags",i),v("alltags",u),(t,d)=>(l(),a("div",ct,[k(H,{topPlayList1:_(n),onClick:b},null,8,["topPlayList1"]),k(ut,{class:"mt-2"})]))}});export{pt as default};
